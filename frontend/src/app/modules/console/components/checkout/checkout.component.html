<app-bread-crumb [title]="title"></app-bread-crumb>
<div class="checkout-wrapper py-5 home-wrapper-2">
  <div class="container-xxl">
    <div class="row">
      <div class="col-7">
        <div class="checkout-left-data">
          <h3 class="website-name">Dev Corner</h3>
          <nav style="--bs-breadcrumb-divider: '>'" aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item">
                <a routerLink="/console/cart" class="text-dark total-price"
                  >Cart</a
                >
              </li>
              <li
                class="breadcrumb-item active total-price"
                aria-current="page"
              >
                Information
              </li>
              <li class="breadcrumb-item total-price active">Shipping</li>
              <li
                class="breadcrumb-item total-price active"
                aria-current="page"
              >
                Payment
              </li>
            </ol>
          </nav>
          <h4 class="title total">Contact Information</h4>
          <p class="user-details">Hoang Dev (nguyenhoangnhom4@gmail.com)</p>
          <h4 class="mb-3">Shipping Address</h4>
          <form
            (ngSubmit)="shippingAddress()"
            [formGroup]="shippingForm"
            class="d-flex flex-wrap gap-15 justify-content-between"
          >
            <div class="w-100">
              <select
                class="form-control form-select"
                name=""
                id=""
                formControlName="country"
              >
                <option value="" selected disabled>Select Country</option>
                <option value="VietNam">Vietnamese</option>
              </select>
            </div>
            <div class="flex-grow-1">
              <input
                type="text"
                placeholder="First Name"
                class="form-control"
                formControlName="firstName"
              />
            </div>
            <div class="flex-grow-1">
              <input
                type="text"
                placeholder="Last Name"
                class="form-control"
                formControlName="lastName"
              />
            </div>
            <div class="w-100">
              <input
                type="text"
                placeholder="Address"
                class="form-control"
                formControlName="address"
              />
            </div>
            <div class="w-100">
              <input
                type="text"
                placeholder="Apartment, Suite, etc"
                class="form-control"
                formControlName="other"
              />
            </div>
            <div class="flex-grow-1">
              <input
                type="text"
                placeholder="City"
                class="form-control"
                formControlName="city"
              />
            </div>
            <div class="flex-grow-1">
              <select
                class="form-control form-select"
                name=""
                id=""
                formControlName="state"
              >
                <option value="" selected disabled>Select State</option>
                <option value="state">Shipping</option>
              </select>
            </div>
            <div class="flex-grow-1">
              <input
                type="text"
                placeholder="Zipcode"
                class="form-control"
                formControlName="pincode"
              />
            </div>
            <div class="w-100">
              <div class="d-flex justify-content-between align-items-center">
                <a routerLink="/console/cart" class="text-dark"
                  ><i class="bi bi-arrow-bar-left me-2"></i> Return to Cart</a
                >
                <a routerLink="/console/home" class="button"
                  >Continue to Shipping</a
                >
                <button class="button" type="submit">Place Order</button>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="col-5">
        <div style="overflow: hidden; overflow-y: scroll; max-height: 300px">
          <div
            class="border-bottom py-4"
            *ngFor="let productCart of productDetail"
          >
            <div class="d-flex gap-10 align-items-center">
              <div class="w-75 d-flex gap-10">
                <div class="w-25 position-relative">
                  <span
                    style="top: -10px; right: 2px"
                    class="badge bg-secondary text-white rounded-circle p-2 position-absolute"
                    >{{ productCart.quantity }}</span
                  >
                  <img
                    src="{{ productCart.productId.images[0].url }}"
                    class="img-fluid"
                    alt=""
                  />
                </div>
                <div>
                  <h5 class="total-price">{{ productCart.productId.title }}</h5>
                  <p class="total-price">{{ productCart.color.title }}</p>
                </div>
              </div>
              <div class="flex-grow-1">
                <h5 class="total">
                  $ {{ productCart.price * productCart.quantity }}
                </h5>
              </div>
            </div>
          </div>
        </div>
        <div class="border-bottom py-4">
          <div class="d-flex justify-content-between align-items-center">
            <p class="total">Subtotal</p>
            <p class="total-price">$ {{ calculateTotalPrice() }}</p>
          </div>
          <div class="d-flex justify-content-between align-items-center">
            <p class="mb-0 total">Shipping</p>
            <p class="mb-0 total-price">$ 5</p>
          </div>
        </div>
        <div
          class="d-flex justify-content-between align-items-center border-bottom py-4"
        >
          <h4 class="total">Total</h4>
          <h5 class="total-price">$ {{ calculateTotalPrice() + 5 }}</h5>
        </div>
      </div>
    </div>
  </div>
</div>
